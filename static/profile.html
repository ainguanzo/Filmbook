<body>

   <div class="container-fluid">
      <div class="row justify-content-end">

         <h5 class="avatar-heading">Change your Avatar:</h5>

      </div>
      <div class="row justify-content-end">

         <img class="avatar avatar-heading" src={{'images/'+currentUser.avatar}} alt="No avatar found" data-toggle="modal"
            data-target="#avatarModal">

      </div>
      <div class="row justify-content-end">

         <form id="uploadbanner" enctype="multipart/form-data" method="post" action={{'/api/files/'+currentUser.id}}>
            <input id="fileupload" name="avatar" type="file" accept="image/*" />
            <br>
            <input class="btn btn-primary btn-sm" type="submit" value="Upload" id="submit" disabled />
         </form>

      </div>
   </div>




   <div class="container">
      <div class="row">
         <h3>Your Most Watched Genres:</h3>
      </div>
      <div class="row">
         <h5>{{calculateFavGenres()}} </h5>
      </div>
      <div class="row">
         <br>
      </div>
      <div class="row">
         <h3>Your Watchlist:</h3>
      </div>
      <div class="row">
         <img class="movieRec" src={{'https://image.tmdb.org/t/p/original/'+movie.poster_path}} alt="Movie Poster Not Found"
            ng-repeat="movie in currentUser.watchlist" data-toggle="modal" data-target="#movieDetailsModal" ng-click="showMovieDetails(movie)">

      </div>
      <div class="row" ng-if="emptyWatchListMsg(currentUser.watchlist)">
         <h5>Your watchlist is currently empty! Go to the <a ui-sref="movies">Movies</a> page to add new movies you
            plan to watch!</h5>
      </div>
      <div class="row">
            <br>
         </div>
      <div class="row">
         <h3>Favorite Movies:</h3>
      </div>
      <div class="row">
         <img class="movieRec" src={{'https://image.tmdb.org/t/p/original/'+movie.poster_path}} alt="Movie Poster Not Found"
            ng-repeat="movie in currentUser.favoriteMovies" data-toggle="modal" data-target="#movieDetailsModal"
            ng-click="showMovieDetails(movie)">
      </div>
      <div class="row">
         <br>
      </div>
      <div class="row">
         <h3>Recently Seen:</h3>
      </div>
      <div class="row">
         <img class="movieRec" src={{'https://image.tmdb.org/t/p/original/'+movie.poster_path}} alt="Movie Poster Not Found"
            ng-repeat="movie in currentUser.watched" data-toggle="modal" data-target="#movieDetailsModal" ng-click="showMovieDetails(movie)">
      </div>
      <div class="row">
         <br><br>
      </div>
   </div>
</body>

<div class="modal fade" id="movieDetailsModal" tabindex="-1" role="dialog" aria-labelledby="movieDetailsModalLabel"
   aria-hidden="true">
   <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title">{{movieTitle}}</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
               <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-md-6">
                     <img src={{'https://image.tmdb.org/t/p/original/'+moviePosterPath}} class="img-responsive" alt="Movie Poster Not Found">
                  </div>
                  <div class="col-md-6">
                     <strong>Overview:</strong> {{movieDescription}}
                     <br><br>
                     <strong>Genre(s):</strong> {{movieDisplayGenres}}
                     <br><br>
                     <strong>Average Rating:</strong> {{movieRating}}/10
                     <br><br>
                     <strong>Release Date:</strong> {{movieDisplayDate}}
                  </div>
               </div>
            </div>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-primary recent" ng-click="addToWatchList()" ng-if="!partOfRecent && !inWatchlist(movieTitle) && !inWatched(movieTitle)"
               data-dismiss="modal">Add to WatchList</button>
            <button type="button" class="btn btn-danger" ng-click="removeFromWatchList()" ng-if="inWatchlist(movieTitle)"
               data-dismiss="modal">Remove From Watchlist</button>
            <button type="button" class="btn btn-primary" ng-click="addToWatched()" ng-if="inWatchlist(movieTitle)"
               data-dismiss="modal">Add
               to Watched</button>
            <button type="button" class="btn btn-success" ng-click="addToFavorites()" ng-if="!inFavorites(movieTitle) && inWatched(movieTitle)"
               data-dismiss="modal">Add to Favorites</button>
            <button type="button" class="btn btn-danger" ng-if="inFavorites(movieTitle)" ng-click="removeFromFavorites()">Remove
               from Favorites</button>
            <button type="button" class="btn btn-info" ng-if="inWatched(movieTitle)" ng-click="writeReview()"
               data-dismiss="modal">Write a Review for
               this Movie</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
         </div>
      </div>
   </div>
</div>


<div class="modal rain fade bd-example-modal-lg" id="avatarModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
   aria-hidden="true">
   <div class="modal-dialog modal-lg">
      <div>
         <div>
            <img src={{'images/'+currentUser.avatar}}>
         </div>
      </div>
   </div>
</div>

<!-- <div class="modal fade" id="avatarModal" tabindex="-1" role="dialog" aria-labelledby="avatarModalLabel" aria-hidden="true">
   
           <div class="modal-content">              
             <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
               <img class="modalcontent" src={{'images/'+currentUser.avatar}}>
             </div>
           </div>
        
       </div> -->